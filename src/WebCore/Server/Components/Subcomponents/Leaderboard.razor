@using Radzen
@using Humanizer
@using RockPaperScissors.Core.Domain.Entities
@using RockPaperScissors.Core.Domain.ValueObjects

<RadzenCard Style="width: 100%">
    <RadzenStack Orientation="Orientation.Vertical">
        <RadzenText Text="Leaderboard" TextStyle="TextStyle.DisplayH6" class="rz-mb-0"/>
        <RadzenDataGrid @ref="_dataGrid" TItem="Core.Business.DTOs.Leaderboard" IsLoading="@_isLoading" Count="@_count" Data="@_playerTable"
                        LoadData="@LoadData" AllowColumnResize="true" PageSize="100" AllowAlternatingRows="false"
                        Density="Density.Compact" Style="min-height: 100px; max-width: 100%">
            <Columns>
                <RadzenDataGridColumn TItem="Core.Business.DTOs.Leaderboard" Property="Rank" Width="30px" TextAlign="TextAlign.Center" Frozen="true"/>
                <RadzenDataGridColumn TItem="Core.Business.DTOs.Leaderboard" Property="UserName" Title="Name" Width="120px"/>
                <RadzenDataGridColumn TItem="Core.Business.DTOs.Leaderboard" Property="Streak" Title="Streak" Width="60px" SortOrder="SortOrder.Descending"/>
                <RadzenDataGridColumn TItem="Core.Business.DTOs.Leaderboard" Property="Duration" Title="Time" Width="100px">
                    <Template Context="data">
                        @data.Duration.Humanize()
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="Core.Business.DTOs.Leaderboard" Property="Submitted" Title="Submitted" Width="120px">
                    <Template Context="data">
                        @data.Submitted.Humanize()
                    </Template>
                </RadzenDataGridColumn>
            </Columns>
        </RadzenDataGrid>
    </RadzenStack>
</RadzenCard>
